---
import ImageComp from "./ImageComp.astro";

interface Props {
  src: string;
  alt: string;
  title?: string;
  subtitle?: string;
  class?: string;
}

const { src, alt, title, subtitle, class: className = "" } = Astro.props;
---

<div class="group relative overflow-hidden w-full h-full">
  <ImageComp
    src={src}
    alt={alt}
    class={`w-full h-full object-cover ${className}`}
  />

  <div
    class="absolute inset-0
              bg-gradient-to-t
              from-sky-600/90
              via-sky-500/70
              to-transparent
              opacity-0
              group-hover:opacity-100
              transition-opacity
              duration-300"
  >
  </div>

  <div
    class="absolute inset-0 shadow-inner-hover opacity-0 group-hover:opacity-100 transition-opacity duration-300"
  >
  </div>

  {
    (title || subtitle) && (
      <div class="absolute bottom-0 left-0 right-0 p-6 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out z-10">
        {subtitle && (
          <p class="text-sm font-semibold text-white/80 mb-2 uppercase tracking-wider">
            {subtitle}
          </p>
        )}
        {title && <h3 class="text-2xl font-bold">{title}</h3>}
      </div>
    )
  }
</div>

<style>
  .shadow-inner-hover {
    box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.35);
  }
</style>
