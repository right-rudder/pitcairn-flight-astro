---
import ImageComp from "../ImageComp.astro";

const heroData = {
  image: {
    src: "/src/assets/placeholder-dark-clouds-pitcairn-flight-academy-instrument-rating.webp",
    alt: "Flight Training Programs",
  },
  title: "Why Become a Pilot?",
  subTitle:
    "A combination of factors such as mandatory retirement ages, COVID-induced early retirements, and the surging demand for pilots, indicates a pilot supply challenge in the aviation industry. Forecasts from experts suggest that, within the coming year or two, global demand for pilots will outstrip the available supply, and this trend is expected to persist over the next decade.",
};

const statsDataExample = [
  { label: "New Pilots Needed", value: "280,000", sub: "Next 10 Years" },
  { label: "Mandatory Retirements", value: "45,000", sub: "Upcoming Decade" },
  { label: "Industry Growth", value: "39%", sub: "Demand Surge" },
  { label: "Workforce Age 50+", value: "38%", sub: "Immediate Vacancies" },
];

interface ctaProp {
  url: string;
  text: string;
  variant?: string;
}

interface Props {
  data?: {
    image: {
      src: string;
      alt: string;
      invert?: boolean;
      mirror?: boolean;
    };
    title: string;
    subTitle?: string;
    cta?: ctaProp[];
  };
  statsData?: {
    label: string;
    value: string;
    sub?: string;
  }[];
}

const { data = heroData, statsData = statsDataExample } = Astro.props;
---

<section
  class="relative min-h-[75vh] flex flex-col justify-center overflow-hidden bg-slate-950/15"
>
  <div class="absolute inset-0 -z-20">
    <ImageComp
      src={data.image.src}
      alt={data.image.alt}
      class={`h-full w-full object-cover object-center animate-slow-zoom brightness-[0.7] contrast-[1.1]` +
        (data.image.invert ? "filter invert" : "") +
        (data.image.mirror ? " scale-x-[-1]" : "")}
      loading="eager"
    />
    <div
      class="absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/20 to-transparent"
    >
    </div>
    <div
      class="absolute inset-0 bg-gradient-to-r from-slate-950/60 via-transparent to-transparent"
    >
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-6 w-full pb-12 lg:pb-20">
    <div class="grid lg:grid-cols-12 gap-12 items-end">
      <div class="lg:col-span-7 space-y-8">
        <div
          class="inline-flex items-center gap-2 px-3 py-1 rounded-2xl bg-sky-500/20 border border-sky-400/30 backdrop-blur-md"
        >
          <span class="relative flex h-2 w-2">
            <span
              class="animate-ping absolute inline-flex h-full w-full rounded-2xl bg-sky-400 opacity-75"
            ></span>
            <span class="relative inline-flex rounded-2xl h-2 w-2 bg-sky-500"
            ></span>
          </span>
          <span
            class="text-sky-300 text-[10px] font-bold uppercase tracking-[0.2em]"
            >High Demand Career Track</span
          >
        </div>

        <h1
          class="text-5xl md:text-7xl lg:text-8xl font-black text-white leading-[0.9] tracking-tight uppercase drop-shadow-2xl"
          set:html={data.title}
        />

        <p
          class="text-xl text-slate-200 max-w-xl font-light leading-relaxed drop-shadow-md"
          set:html={data.subTitle}
        />

        <div class="flex flex-wrap gap-4 pt-4">
          {
            data.cta?.map((item, index) => (
              <a
                href={item.url}
                class={`px-8 py-5 rounded-2xl font-black transition-all duration-300 text-center min-w-[220px] ${
                  index === 0
                    ? "bg-sky-600 text-white shadow-xl shadow-sky-600/20 hover:bg-sky-500 hover:-translate-y-1"
                    : "bg-white/10 backdrop-blur-md text-white border border-white/20 hover:bg-white hover:text-slate-950 hover:-translate-y-1"
                }`}
              >
                {item.text}
              </a>
            ))
          }
        </div>
      </div>

      <div class="hidden lg:flex lg:col-span-5 flex-col gap-4">
        <div
          class="bg-slate-900/40 backdrop-blur-xl border border-white/10 p-8 rounded-[2.5rem]"
        >
          <h2
            class="text-sky-400 font-bold text-xs uppercase tracking-[0.2em] mb-6"
          >
            Global Aviation Outlook
          </h2>
          <div class="grid grid-cols-2 gap-y-8 gap-x-4">
            {
              statsData.map((stat) => (
                <div>
                  <div class="text-3xl font-black text-white">{stat.value}</div>
                  <div class="text-[10px] text-sky-300 uppercase font-bold tracking-wider mt-1">
                    {stat.label}
                  </div>
                  <div class="text-[10px] text-slate-500 italic mt-0.5">
                    {stat.sub}
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="lg:hidden bg-slate-900 border-t border-white/10 py-6">
    <div class="flex overflow-x-auto gap-8 px-6 no-scrollbar">
      {
        statsData.map((stat) => (
          <div class="flex-shrink-0">
            <div class="text-xl font-black text-white">{stat.value}</div>
            <div class="text-[9px] text-sky-400 uppercase font-bold tracking-tighter">
              {stat.label}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  @keyframes slow-zoom {
    from {
      transform: scale(1);
    }
    to {
      transform: scale(1.15);
    }
  }
  .animate-slow-zoom {
    animation: slow-zoom 30s ease-in-out infinite alternate;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
</style>
