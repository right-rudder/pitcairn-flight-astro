---
interface Props {
  data: {
    title?: string;
    upperheader?: string;
    descriptionParagraphs?: string[];
    phases?: {
      phaseTitle: string;
      phaseBulletPoints: string[];
    }[];
    outcome?: string;
  };
}

const { data } = Astro.props;
---

<section class="py-24 px-6 bg-slate-950 relative overflow-hidden">
  <div
    class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-sky-900/20 rounded-2xl blur-[120px] pointer-events-none"
  >
  </div>

  <div class="max-w-5xl mx-auto relative z-10">
    <div class="text-center mb-20 flex flex-col items-center">
      {
        data.upperheader && (
          <span class="inline-block px-4 py-1.5 bg-sky-500/10 border border-sky-500/20 text-sky-400 text-xs font-bold tracking-[0.2em] uppercase rounded-2xl  mb-6">
            {data.upperheader}
          </span>
        )
      }
      {
        data.title && (
          <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 tracking-tight">
            {data.title}
          </h2>
        )
      }
      {
        data.descriptionParagraphs?.map((p) => (
          <p
            class="text-slate-400 text-lg leading-relaxed max-w-2xl mx-auto"
            set:html={p}
          />
        ))
      }
    </div>

    <div
      class="relative space-y-12 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-sky-900/0 before:via-sky-500/50 before:to-sky-900/0"
    >
      {
        data.phases?.map((phase, index) => (
          <div class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group">
            <div class="flex items-center justify-center w-10 h-10 rounded-2xl  border-2 border-sky-500 bg-slate-950 text-sky-400 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 shadow-[0_0_15px_rgba(14,165,233,0.3)] z-10 group-hover:bg-sky-500 group-hover:text-white transition-all duration-500">
              <span class="font-bold text-sm">{index + 1}</span>
            </div>

            <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] bg-white/5 backdrop-blur-md p-8 rounded-2xl  border border-white/10 hover:border-sky-500/50 transition-all duration-500 shadow-xl">
              <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2 group-hover:text-sky-400 transition-colors">
                {phase.phaseTitle}
              </h3>
              <ul class="space-y-3">
                {phase.phaseBulletPoints.map((point) => (
                  <li class="flex items-start gap-3 text-slate-300 text-sm">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="w-4 h-4 shrink-0 text-sky-500 mt-1"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5 13l4 4L19 7"
                      />
                    </svg>
                    <span class="leading-relaxed">{point}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))
      }
    </div>

    {
      data.outcome && (
        <div class="mt-24 text-center">
          <div class="relative inline-block group">
            <div class="absolute -inset-1 bg-gradient-to-r from-sky-600 to-blue-600 rounded-2xl  blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200" />

            <div class="relative bg-slate-900 rounded-2xl  border border-white/10 text-white px-10 py-8 shadow-2xl">
              <span class="block text-sky-400 font-bold text-xs uppercase tracking-[0.3em] mb-3">
                Target Objective
              </span>
              <span class="text-3xl md:text-4xl font-black tracking-tight text-white block">
                {data.outcome}
              </span>
              <div class="mt-4 flex justify-center gap-1">
                <div class="w-8 h-1 bg-sky-500 rounded-2xl " />
                <div class="w-2 h-1 bg-sky-500 rounded-2xl " />
                <div class="w-1 h-1 bg-sky-500 rounded-2xl " />
              </div>
            </div>
          </div>
        </div>
      )
    }
  </div>
</section>
