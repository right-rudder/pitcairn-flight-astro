---
import ImageComp from "../ImageComp.astro";
import ImageWithZoomEffect from "./ImageWithZoomEffect.astro";

interface Props {
  data: {
    title: string;
    descriptionParagraphs: string[];
    listItems?: string[];
    mainImage?: any;
    mainImageAlt?: string;
  };
}

const { data } = Astro.props;
---

<section class="py-20 md:py-28 bg-sky-950 relative overflow-hidden">
  <div
    class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none"
  >
    <div
      class="absolute -top-24 -left-24 w-96 h-96 bg-sky-600/10 rounded-full blur-[120px]"
    >
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-6 md:px-12 relative z-10">
    <div class="flex flex-col lg:flex-row gap-12 lg:gap-16 items-center">
      <div class="w-full lg:w-1/2">
        <h2
          class="text-4xl md:text-5xl font-bold text-white mb-8 tracking-tight leading-tight"
        >
          {data.title}
        </h2>

        <div class="space-y-6 text-sky-300 text-lg leading-relaxed mb-10">
          {data.descriptionParagraphs.map((p) => <p set:html={p} />)}
        </div>

        {
          data.listItems && (
            <ul class="grid gap-4">
              {data.listItems.map((item) => (
                <li class="flex items-center group bg-white/5 p-4 rounded-xl border border-white/10 hover:bg-white/10 hover:border-sky-500/50 transition-all duration-300">
                  <div class="flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-lg bg-sky-600 text-white shadow-lg shadow-sky-900/20 mr-4 group-hover:rotate-12 transition-transform">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="w-6 h-6"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5 13l4 4L19 7"
                      />
                    </svg>
                  </div>
                  <span class="text-white font-medium italic leading-tight">
                    {item}
                  </span>
                </li>
              ))}
            </ul>
          )
        }
      </div>

      {
        data.mainImage && (
          <div class="w-full lg:w-1/2 relative group">
            <div class="absolute -inset-3 border border-sky-500/30 rounded-2xl -rotate-1 group-hover:rotate-0 transition-transform duration-500" />

            <div class="relative z-10 aspect-[4/3] lg:aspect-square overflow-hidden rounded-xl shadow-2xl shadow-sky-950/50">
              <ImageWithZoomEffect
                src={data.mainImage}
                alt={data.mainImageAlt || data.title}
                class="w-full h-full object-cover transition-transform duration-700"
              />

              <div class="absolute inset-0 bg-gradient-to-t from-sky-950/40 to-transparent pointer-events-none" />
            </div>
          </div>
        )
      }
    </div>
  </div>
</section>
