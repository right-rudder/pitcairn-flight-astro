---
import BaseLayout from "../layouts/BaseLayout.astro";
import ImageComp from "../components/ImageComp.astro";
import Hero75 from "../components/Hero75.astro";
import { COMPANY_NAME, PHONE_NUMBER } from "../data/consts";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

type Member = CollectionEntry<"crew">;

const members = await getCollection("crew");
const sortedMembers = members.sort(
  (a: Member, b: Member) => (a.data.order || 999) - (b.data.order || 999),
);

const pageTitle = "About {COMPANY_NAME}";
const pageDescription =
  "Learn about {COMPANY_NAME}'s mission, values, and commitment to professional pilot training excellence. Award-winning flight school with 34,000+ successful pilots, veteran airline captain instructors, and proven career pathways.";

const heroData = {
  image: {
    src: "/src/assets/placeholder-dark-clouds-pitcairn-flight-academy-instrument-rating.webp",
    alt: "imagePlaceholder",
  },
  title: "About ",
  subTitle:
    "Learn about {COMPANY_NAME}'s mission, values, and commitment to professional pilot training excellence.",
  cta: [
    {
      url: "/enroll",
      text: "Enroll Now",
    },
    {
      url: "/aircraft",
      text: "Meet Our Fleet",
    },
  ],
};

const metaProps = {
  siteTitle: "About Us | {COMPANY_NAME}",
  siteDescription:
    "Meet the senior cadre at {COMPANY_NAME}. Built by airline pilots and USAF veterans, we provide mentorship and elite training for future professional pilots.",
  siteKeywords:
    "about  Aviation, flight school NC, USAF veteran pilots, airline pilot mentors, aviation academy leadership, flight instructor cadre,  mission",
};

const ourStory = {
  upperHeading: "Our Story",
  title: "Building Professional Pilots With Purpose",
  description: "",
  descriptions: [``],
  image: {
    src: "/src/assets/placeholder-dark-clouds-pitcairn-flight-academy-instrument-rating.webp",
    alt: `Professional flight training at ${COMPANY_NAME}`,
  },
};
const ourMission = {
  upperHeading: "Our Mission & Values",
  title: "Guided by Professional Standards",
  description:
    "Everything we do is guided by a commitment to professionalism, high standards, and doing things the right way.",
  items: [
    {
      title: "Our Mission",
      description:
        "To develop professional pilots through structured Part 141 training, clear expectations, and a disciplined approach that prepares students for the realities of professional aviation.",
      icon: "check",
    },
    {
      title: "High Standards",
      description:
        "We set clear standards and hold students accountable to them. Progression is performance-based, and professionalism is expected on every flight, every day.",
      icon: "currency",
    },
    {
      title: "Professional Mindset",
      description:
        "Our instructors bring experience from general aviation, commercial operations, and military flying, reinforcing habits and judgment expected of professional pilots beyond the training environment.",
      icon: "star",
    },
  ],
};
const whatSetsApart = {
  upperHeading: "Why Choose Us",
  title: "What Sets Us Apart",
  description:
    "We don't just train pilots—we develop aviation professionals ready for successful careers.",
  items: [
    {
      title: "Veteran Airline Captain Instructors",
      description:
        "Train with experienced airline captains (10,000+ hours) who've flown professionally for decades—not 300-hour time-builders. Learn from those who've actually flown the line.",
      icon: "user",
    },
    {
      title: "Dual DPE & Zero Cancellations",
      description:
        "Two Designated Pilot Examiners on staff. 12-year track record of zero checkride cancellations due to examiner unavailability. Immediate scheduling—no 3-month waitlists.",
      icon: "check",
    },
    {
      title: "Single-Location Seamless Training",
      description:
        "All training at Wayne Executive Jetport (KGWW)—ground school, flight training, checkrides, housing under one roof. No fragmented instruction across multiple locations.",
      icon: "location",
    },
    {
      title: "Real IMC Flying (Not Just Hood Time)",
      description:
        "Instrument students fly 30+ hours actual IMC (real clouds, real approaches, real weather)—not just simulated hood time. You'll be a competent IFR pilot, not just checkride-ready.",
      icon: "cloud",
    },
    {
      title: `"Gray Beard" Peer-Checking Program`,
      description:
        "Senior instructors review all student training progress—providing quality assurance, mentorship, and continuation training. No other school offers this level of oversight.",
      icon: "shield",
    },
    {
      title: "Performance-Based Airline Placement",
      description:
        "No predatory fees or commissions. Meet safety and professionalism criteria, and we provide direct introductions to regional airline hiring partners. Your success is our success.",
      icon: "bolt",
    },
  ],
};

const ourLocation = {
  upperHeading: "Our Location",
  title: "Located at Wayne Executive Jetport",
  descriptions: [
    `<strong>${COMPANY_NAME}</strong> operates out of <strong>Wayne Executive Jetport (KGWW)</strong> in Goldsboro, North Carolina.`,
    `This location supports a focused training environment designed for students pursuing professional pilot careers.`,
  ],
  features: [
    "Part 141 training environment supporting structured, full-time professional pilot training",
    "Towered airport operations providing exposure to professional ATC communications",
    "Consistent training conditions for primary and advanced instruction",
    "Program housing available for Professional Airline Pilot Track students",
    "Central North Carolina location supporting students from across the region",
  ],
  image: {
    src: "/src/assets/placeholder-dark-clouds-pitcairn-flight-academy-instrument-rating.webp",
    alt: "Wayne Executive Jetport (KGWW)",
  },
};

const ctaSection = {
  title: "Ready to Start Your Aviation Journey?",
  description: `Join our successful pilots who've trained with ${COMPANY_NAME}. From zero experience to airline careers—we'll guide you every step of the way.`,
  backgroundImage: {
    src: "/src/assets/placeholder-dark-clouds-pitcairn-flight-academy-instrument-rating.webp",
    alt: "Call to action background",
  },
  primaryCta: {
    url: "/programs",
    text: "View Training Programs",
  },
  secondaryCta: {
    url: `tel:${PHONE_NUMBER}`,
    text: "Call Us Now",
  },
};
---

<BaseLayout {...metaProps}>
  <Hero75 data={heroData} />

  <!-- Our Story Section -->
  <section class="py-16 md:py-24 bg-white">
    <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <h2
            class="!font-sans !text-2xl not-italic text-monza-600"
            set:html={ourStory.upperHeading}
          />
          <h3 class="title !text-lucky-950" set:html={ourStory.title} />
          {
            ourStory.descriptions && (
              <div class="space-y-4 mt-10 text-gray-700 leading-relaxed">
                {ourStory.descriptions.map((desc) => (
                  <p set:html={desc} />
                ))}
              </div>
            )
          }
        </div>

        <div class="relative">
          <ImageComp
            src={ourStory.image.src}
            alt={ourStory.image.alt}
            class="rounded-2xl shadow-2xl"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Mission & Values Section -->
  <section class="py-16 md:py-24 bg-white">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    <div class="text-center mb-12">
      <h2 class="title !text-lucky-950">{ourMission.upperHeading}</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        {ourMission.description}
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      {ourMission.items.map((item) => (
        <div class="bg-white px-10 py-12 rounded-2xl shadow-md border border-gray-100 hover:scale-105 hover:shadow-lg transition duration-300">
          <div class="w-16 h-16 bg-monza-600 rounded-full flex items-center justify-center mb-6">
            <!-- icon stays hardcoded for now -->
            <svg class="w-12 h-12 text-monza-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>

          <h3 class="text-3xl font-bold text-gray-900 mb-4 font-title">
            {item.title}
          </h3>
          <p class="text-gray-700 leading-relaxed">
            {item.description}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- Our Differences  -->
<section class="py-16 md:py-24 bg-white">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    <div class="text-center mb-12">
      <h2 class="title !text-lucky-950">{whatSetsApart.title}</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        {whatSetsApart.description}
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-8">
      {whatSetsApart.items.map((item) => (
        <div class="flex gap-4">
          <div class="shrink-0">
            <div class="w-12 h-12 bg-monza-100 rounded-lg flex items-center justify-center">
              <!-- icon placeholder (same SVGs you already use) -->
              <svg
                class="w-6 h-6 text-monza-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
            </div>
          </div>

          <div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">
              {item.title}
            </h3>
            <p class="text-gray-700 leading-relaxed">
              {item.description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>


  <!-- Our Location -->
<section class="py-16 md:py-24 bg-white">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    <div class="grid md:grid-cols-2 gap-12 items-center">
      <div>
        <h2 class="title !text-lucky-950">{ourLocation.title}</h2>

        <div class="space-y-4 mt-10 text-gray-700 leading-relaxed">
          {ourLocation.descriptions.map((desc) => (
            <p set:html={desc} />
          ))}

          <div class="space-y-3">
            {ourLocation.features.map((feature) => (
              <div class="flex items-start gap-3">
                <svg class="w-6 h-6 text-monza-600 shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <p>{feature}</p>
              </div>
            ))}
          </div>
        </div>
      </div>

      <ImageComp
        src={ourLocation.image.src}
        alt={ourLocation.image.alt}
        class="rounded-2xl shadow-2xl w-full h-full object-cover"
      />
    </div>
  </div>
</section>


  <!-- CTA Section -->
<section class="relative py-16 md:py-24 text-white overflow-hidden">
  <div class="absolute inset-0 bg-gray-900 -z-10"></div>

  <ImageComp
    src={ctaSection.backgroundImage.src}
    alt={ctaSection.backgroundImage.alt}
    class="absolute inset-0 w-full h-full object-cover opacity-20 -z-10 animate-slow-zoom"
  />

  <div class="max-w-4xl mx-auto px-5 md:px-8 lg:px-12 text-center z-0">
    <h2 class="title !text-white">{ctaSection.title}</h2>
    <p class="text-xl mb-8 text-muted-50">
      {ctaSection.description}
    </p>

    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a
        href={ctaSection.primaryCta.url}
        class="inline-flex items-center justify-center px-8 py-4 bg-white text-monza-600 font-semibold rounded-xl hover:bg-gray-100 transition"
      >
        {ctaSection.primaryCta.text}
      </a>

      <a
        href={ctaSection.secondaryCta.url}
        class="inline-flex items-center justify-center px-8 py-4 bg-monza-800 text-white font-semibold rounded-xl hover:bg-monza-900 transition"
      >
        {ctaSection.secondaryCta.text}
      </a>
    </div>
  </div>
</section>

</BaseLayout>
